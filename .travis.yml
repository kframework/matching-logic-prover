language: java
services:
  docker
git:
  depth: 3
jobs:
  include:
    - stage: Build Docker Image
      script:
      - "docker build --tag matching-logic-prover ."
    - stage: test
      script:
      - "docker run --rm matching-logic-prover ./build -v unit-tests"
      - "docker run --rm matching-logic-prover ./build -v smoke-tests"
